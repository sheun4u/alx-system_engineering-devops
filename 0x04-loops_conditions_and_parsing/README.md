Solution to conditions, loops and parsing 
